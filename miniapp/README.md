# Metro: DevOps Survival - Telegram Mini App

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–≥—Ä—ã Metro: DevOps Survival –≤ —Ñ–æ—Ä–º–∞—Ç–µ Telegram Mini App.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
miniapp/
‚îú‚îÄ‚îÄ index.html          # –û—Å–Ω–æ–≤–Ω–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ styles.css          # –°—Ç–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ app.js              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ bot-integration.js  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –±–æ—Ç–æ–º
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üéÆ –ò–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é** - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º –∏–≥—Ä—ã
- **–•–∞–±** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å NPC –∏ –º–∏—Å—Å–∏—è–º–∏
- **–ö–≤–µ—Å—Ç—ã –¥–Ω—è** - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
- **–ñ—É—Ä–Ω–∞–ª** - –∑–∞–ø–∏—Å–∏ –∏ –ª–æ—Ä –∏–≥—Ä—ã
- **–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä** - –ª–æ–∫–∞–ª—å–Ω—ã–π —á–∞—Ç –∏ —Ä–∞–¥–∏–æ
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **Telegram Web App API** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** - –≤ —Å—Ç–∏–ª–µ Metro 2033

### üì± Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **Web App API** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π Telegram
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–æ—Ç–æ–º** - –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ `sendData()`
- **–ö–Ω–æ–ø–∫–∏ –±–æ—Ç–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ MainButton –∏ BackButton
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ø–æ–∫–∞–∑ –∞–ª–µ—Ä—Ç–æ–≤ –∏ –ø–æ–ø–∞–ø–æ–≤

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `miniapp/` –Ω–∞ –≤–∞—à –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏–ª–∏ GitHub Pages.

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
–í –≤–∞—à–µ–º Telegram –±–æ—Ç–µ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É Mini App:

```python
# –í deepseek.py –¥–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è Mini App
async def handle_webapp_data(update: Update, ctx: ContextTypes.DEFAULT_TYPE) -> None:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Mini App"""
    if update.effective_message and update.effective_message.web_app_data:
        data = json.loads(update.effective_message.web_app_data.data)
        user_id = data.get('userId')
        action = data.get('action')
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
        if action == 'dialogue_choice':
            await handle_dialogue_choice(user_id, data.get('data', {}))
        elif action == 'mission_start':
            await handle_mission_start(user_id, data.get('data', {}))
        elif action == 'quest_complete':
            await handle_quest_complete(user_id, data.get('data', {}))
        # ... –¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

# –î–æ–±–∞–≤—å—Ç–µ –≤ main():
application.add_handler(MessageHandler(filters.StatusUpdate.WEB_APP_DATA, handle_webapp_data))
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App –≤ BotFather
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newapp` –≤ @BotFather
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "Metro: DevOps Survival"
4. –£–∫–∞–∂–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ: "–¢–µ–∫—Å—Ç–æ–≤–∞—è –∏–≥—Ä–∞ –≤ –º–∏—Ä–µ Metro 2033"
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫—É (16:9, –¥–æ 1MB)
6. –£–∫–∞–∂–∏—Ç–µ URL: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/miniapp/`
7. –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "MetroGame"

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∏–≥—Ä–æ–∫–æ–≤
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Start" –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É Mini App –≤ –º–µ–Ω—é –±–æ—Ç–∞
4. –ò–≥—Ä–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ Telegram

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
1. –û—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Telegram Web App API

## API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç
```javascript
// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
game.botIntegration.sendAction('dialogue_choice', { npc: 'boris' });

// –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏
game.botIntegration.sendButtonClick('mission_start');

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
game.botIntegration.sendTextInput('–ø—Ä–∏–≤–µ—Ç');
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–æ—Ç–∞
```javascript
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
window.postMessage({
    type: 'game_state_update',
    state: { water: 5, ammo_light: 25 }
}, '*');

// –°–º–µ–Ω–∞ —Å—Ü–µ–Ω—ã
window.postMessage({
    type: 'scene_change',
    scene: 'hub:boris'
}, '*');
```

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```css
:root {
    --bg-primary: #1a1a1a;      /* –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω */
    --bg-secondary: #2d2d2d;    /* –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω */
    --accent-primary: #4a9eff;  /* –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç */
    --text-primary: #ffffff;    /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
}
```

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- **Desktop**: –ø–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Å–µ—Ç–∫–æ–π
- **Tablet**: –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç–∫–∞
- **Mobile**: –æ–¥–Ω–æ–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
1. –î–æ–±–∞–≤—å—Ç–µ HTML —Ä–∞–∑–º–µ—Ç–∫—É –≤ `index.html`
2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∏–ª–∏ –≤ `styles.css`
3. –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –≤ `app.js`
4. –û–±–Ω–æ–≤–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `bot-integration.js`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
1. –°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å–µ `MetroGame`
2. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `setupEventListeners()`
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –±–æ—Ç–æ–º

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∏–≥—Ä—ã Metro: DevOps Survival.
–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –±–æ—Ç–∞.
